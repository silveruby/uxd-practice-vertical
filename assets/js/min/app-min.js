!function(){var e=angular.module("uxdpv",["ngRoute"]);e.directive("practiceVerticals",function(){return{restrict:"E",templateUrl:"practiceVerticals.html"}}),e.config(["$routeProvider",function(e){e.when("/user",{templateUrl:"templates/custUserBox.html",controller:"custUserBoxController"}).otherwise({templateUrl:"templates/newUserBox.html",controller:"newUserBoxController"})}]),e.service("selectionData",function(){var e=0,t=null;return{getSelectedCount:function(){return e},incrementSelectedCount:function(){e++},decrementSelectedCount:function(){0!=e?e--:e},isSelected:function(){return e>0},setSelectedCount:function(t){e=t},getSelectedData:function(){return t},setSelectedData:function(e){t=e}}}),e.service("userState",function(){var e="s1";return{getCurrentState:function(){return e},setStateTo:function(t){switch(e=t,t){case"s1":$(".card-default").addClass("fadein");break;case"s2":$(".card-default").removeClass("fadein"),$(".card-save").addClass("fadein");break;case"s3":$(".card-save").removeClass("fadein"),$(".card-confirmation").addClass("fadein");break;case"s4":$(".card-confirmation").removeClass("fadein"),$(".card-user").addClass("fadein");break;case"s5":$(".card-user").removeClass("fadein"),$(".card-authenticate").addClass("fadein");break;case"s6":$(".card-authenticate").removeClass("fadein"),$(".card-modify").addClass("fadein")}}}}),generatePassword=function(){for(var e=8,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s="",r=0,a=t.length;e>r;++r)s+=t.charAt(Math.floor(Math.random()*a));return s},e.controller("newUserBoxController",["$rootScope","selectionData","userState",function(e,t,s){var r=e;r.current_state="s2",s.setStateTo(r.current_state),e.$on("updateCustomMessages",function(){t.isSelected()&&"s1"==r.current_state&&(r.goToState("s2"),e.$destroy("updateCustomMessages"))}),r.goToState=function(e){r.current_state=e,s.setStateTo(e)},r.createUserLink=function(){var e=new Firebase("https://torrid-inferno-2523.firebaseio.com/");e.createUser({email:"zhengsan@gmail.com",password:"helloworld"},function(s,r){if(s)$(".card-confirmation .error .msg").html("<strong>"+s+"</strong>"),$(".card-confirmation .success").hide(),$(".card-confirmation .error").show();else{var a=t.getSelectedData();angular.fromJson(angular.toJson(a)),e.child(r.uid).set(a,function(e){e?($(".card-confirmation .error .msg").html("<strong>"+e+"</strong>"),$(".card-confirmation .success").hide(),$(".card-confirmation .error").show()):($(".card-confirmation .success").show(),$(".card-confirmation .error").hide())}),e.resetPassword({email:"zhengsan@gmail.com"},function(e){null===e?console.log("Password reset email sent successfully"):console.log("Error sending password reset email:",e)})}}),r.goToState("s3")}}]),e.controller("custUserBoxController",["$rootScope","selectionData","userState",function(e,t,s){var r=e;r.current_state="s4",s.setStateTo(r.current_state),r.userID=$routeParams.orderId,r.authenticateUser=function(){var e=new Firebase("https://torrid-inferno-2523.firebaseio.com/");ref.authWithPassword({email:"bobtony@firebase.com",password:"correcthorsebatterystaple"},function(e,t){e?console.log("Login Failed!",e):console.log("Authenticated successfully with payload:",t)})}}]),e.controller("getPracticeVertical",["$rootScope","$http","selectionData","userState",function(e,t,s,r){var o=this;o.pv1=[],o.pv2=[],o.select=[],t.get("/./assets/js/uxd-practice-verticals.json").success(function(e){o.pv1=e.slice(0,4),o.pv2=e.slice(4,8)}).error(function(){o.pv1=void 0,o.pv2=void 0}),t.get("/./assets/js/default-selection.json").success(function(e){var t=0;o.select=e;for(pv in o.select)if("Owner"!=pv)for(a in o.select[pv])o.select[pv][a]&&t++;s.setSelectedCount(t)}).error(function(){o.select=void 0}),o.toggleSelected=function(t,r,a){var n,c,i,l,d,u;n=document.querySelector("."+a.ClassName),u=n.getBoundingClientRect(),c=t.clientX-u.left,i=t.clientY-u.top,l=$("."+a.ClassName+" .ripple").width(),d=$("."+a.ClassName+" .ripple").height(),c-=l/2,i-=d/2,$("."+a.ClassName+" .ripple").css({top:i+"px",left:c+"px"}),$("."+a.ClassName+" .ripple").removeClass("selected").width(),$("."+a.ClassName+" .ripple").addClass("selected"),o.select[r.ClassName][a.ClassName]=!o.select[r.ClassName][a.ClassName],o.select[r.ClassName][a.ClassName]?s.incrementSelectedCount():s.decrementSelectedCount(),s.setSelectedData(o.select),e.$emit("updateCustomMessages")}}])}();