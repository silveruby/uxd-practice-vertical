!function(){var e=angular.module("uxdpv",["firebase"]);e.directive("practiceVerticals",function(){return{restrict:"E",templateUrl:"practiceVerticals.html"}}),e.config(["$locationProvider",function(e){e.html5Mode(!0)}]),e.factory("myFireBase",["$firebaseObject","$firebaseAuth",function(e,s){var t=new Firebase("https://torrid-inferno-2523.firebaseio.com/");return{authenticateUser:function(){t.authWithPassword({email:"bobtony@firebase.com",password:"correcthorsebatterystaple"},function(e,s){e?console.log("Login Failed!",e):console.log("Authenticated successfully with payload:",s)})},saveUser:null,getSelectJSON:function(){var s=e(t.child(vm.loc.user));return s.$loaded()["catch"](function(e){vm.loadDefaultSelectionJSON()}),s},deleteUser:null,resetEmail:null}}]),e.controller("mainController",["$scope","$location","$http","myFireBase",function(e,s,t,o){var r=e;r.current_state="",r.selected_count=0,r.pv1=[],r.pv2=[],r.select=[],r.init=function(){if(r.loc=s.path("/").search(),t.get("/./assets/js/uxd-practice-verticals.json").success(function(e){r.pv1=e.slice(0,4),r.pv2=e.slice(4,8)}).error(function(){r.pv1=void 0,r.pv2=void 0}),void 0!=r.loc.user){var e=0;r.select=o.getSelectJSON();for(pv in r.select)for(a in r.select[pv])r.select[pv][a]&&e++;console.log("count: "+e),r.selected_count=e,r.goToState("s4")}else r.loadDefaultSelectionJSON()},r.toggleSelected=function(e,s,t){var a,o,c,n,l,i;a=document.querySelector("."+t.ClassName),i=a.getBoundingClientRect(),o=e.clientX-i.left,c=e.clientY-i.top,n=$("."+t.ClassName+" .ripple").width(),l=$("."+t.ClassName+" .ripple").height(),o-=n/2,c-=l/2,$("."+t.ClassName+" .ripple").css({top:c+"px",left:o+"px"}),$("."+t.ClassName+" .ripple").removeClass("selected").width(),$("."+t.ClassName+" .ripple").addClass("selected"),r.select[s.ClassName][t.ClassName]=!r.select[s.ClassName][t.ClassName],r.select[s.ClassName][t.ClassName]?r.selected_count++:r.selected_count--,(r.current_state=r.selected_count>0)&&r.goToState("s2")},r.createUserLink=function(){var e=new Firebase("https://torrid-inferno-2523.firebaseio.com/");e.createUser({email:"zhengsan@gmail.com",password:"helloworld"},function(s,t){if(s)$(".card-confirmation .error .msg").html("<strong>"+s+"</strong>"),$(".card-confirmation .success").hide(),$(".card-confirmation .error").show();else{var a=r.select;angular.fromJson(angular.toJson(a)),e.child(t.uid).set(a,function(e){e?($(".card-confirmation .error .msg").html("<strong>"+e+"</strong>"),$(".card-confirmation .success").hide(),$(".card-confirmation .error").show()):($(".card-confirmation .success").show(),$(".card-confirmation .error").hide())}),e.resetPassword({email:"zhengsan@gmail.com"},function(e){null===e?console.log("Password reset email sent successfully"):console.log("Error sending password reset email:",e)})}}),r.goToState("s3")},r.authenticateUser=function(){var e=new Firebase("https://torrid-inferno-2523.firebaseio.com/");ref.authWithPassword({email:"bobtony@firebase.com",password:"correcthorsebatterystaple"},function(e,s){e?console.log("Login Failed!",e):console.log("Authenticated successfully with payload:",s)})},r.loadDefaultSelectionJSON=function(){t.get("/./assets/js/default-selection.json").success(function(e){var s=0;r.select=e;for(pv in r.select)for(a in r.select[pv])r.select[pv][a]&&s++;console.log("using default selection"),r.goToState("s1")}).error(function(){r.goToState("s1"),console.log("error loading default selection")})},r.goToState=function(e){switch(r.current_state=e,console.log("current state: "+r.current_state),$(".fade").removeClass("fadein"),e){case"s1":$(".card-default").addClass("fadein");break;case"s2":$(".card-save").addClass("fadein");break;case"s3":$(".card-confirmation").addClass("fadein");break;case"s4":console.log("state 4"),$(".messageBox .card-user").addClass("fadein");break;case"s5":$(".card-authenticate").addClass("fadein");break;case"s6":$(".card-modify").addClass("fadein")}},r.generatePassword=function(){for(var e=8,s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="",a=0,o=s.length;e>a;++a)t+=s.charAt(Math.floor(Math.random()*o));return t},r.init()}])}();